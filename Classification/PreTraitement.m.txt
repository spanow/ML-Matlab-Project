%--------------------------------------------------------------------------
---------------------------------------------------------
 %------------------------------------------pÃ©rtaitement
des donnÃ©es----------------------------------------
%--------------------------------------------------bending1---------------
------------------------------------%
bending11 = readtable('bending1\dataset1.csv', 'HeaderLines',0);
bending12 = readtable('bending1\dataset2.csv', 'HeaderLines',0);
bending13 = readtable('bending1\dataset3.csv', 'HeaderLines',0);
bending14 = readtable('bending1\dataset4.csv', 'HeaderLines',0);
bending15 = readtable('bending1\dataset5.csv', 'HeaderLines',0);
bending16 = readtable('bending1\dataset6.csv', 'HeaderLines',0);
bending17 = readtable('bending1\dataset7.csv', 'HeaderLines',0);
%--------------------------------------------------bending2---------------
------------------------------------%
bending21 = readtable('bending2\dataset1.csv', 'HeaderLines',0);
bending22 = readtable('bending2\dataset2.csv', 'HeaderLines',0);
bending23 = readtable('bending2\dataset3.csv', 'HeaderLines',0);
bending24 = readtable('bending2\dataset4.csv', 'HeaderLines',0);
%bending24 = readtable('bending2\dataset4.csv','delimiter','space',
'HeaderLines',0);
bending25 = readtable('bending2\dataset5.csv', 'HeaderLines',0);
bending26 = readtable('bending2\dataset6.csv', 'HeaderLines',0);
%--------------------------------------------------cycling----------------
-----------------------------------%
cycling1 = readtable('cycling\dataset1.csv', 'HeaderLines',0);
cycling2 = readtable('cycling\dataset2.csv', 'HeaderLines',0);
cycling3 = readtable('cycling\dataset3.csv', 'HeaderLines',0);
cycling4 = readtable('cycling\dataset4.csv', 'HeaderLines',0);
cycling5 = readtable('cycling\dataset5.csv', 'HeaderLines',0);
cycling6 = readtable('cycling\dataset6.csv', 'HeaderLines',0);
cycling7 = readtable('cycling\dataset7.csv', 'HeaderLines',0);
cycling8 = readtable('cycling\dataset8.csv', 'HeaderLines',0);
cycling9 = readtable('cycling\dataset9.csv', 'HeaderLines',0);
cycling10 = readtable('cycling\dataset10.csv', 'HeaderLines',0);
cycling11 = readtable('cycling\dataset11.csv', 'HeaderLines',0);
cycling12 = readtable('cycling\dataset12.csv', 'HeaderLines',0);
cycling13 = readtable('cycling\dataset13.csv', 'HeaderLines',0);
cycling14 = readtable('cycling\dataset14.csv', 'HeaderLines',0);
cycling15 = readtable('cycling\dataset15.csv', 'HeaderLines',0);
%--------------------------------------------------lying------------------
---------------------------------%
lying1 = readtable('lying\dataset1.csv', 'HeaderLines',0);
lying2 = readtable('lying\dataset2.csv', 'HeaderLines',0);
lying3 = readtable('lying\dataset3.csv', 'HeaderLines',0);
lying4 = readtable('lying\dataset4.csv', 'HeaderLines',0);
lying5 = readtable('lying\dataset5.csv', 'HeaderLines',0);
lying6 = readtable('lying\dataset6.csv', 'HeaderLines',0);
lying7 = readtable('lying\dataset7.csv', 'HeaderLines',0);
lying8 = readtable('lying\dataset8.csv', 'HeaderLines',0);
lying9 = readtable('lying\dataset9.csv', 'HeaderLines',0);
lying10 = readtable('lying\dataset10.csv', 'HeaderLines',0);
lying11 = readtable('lying\dataset11.csv', 'HeaderLines',0);
lying12 = readtable('lying\dataset12.csv', 'HeaderLines',0);

lying13 = readtable('lying\dataset13.csv', 'HeaderLines',0);
lying14 = readtable('lying\dataset14.csv', 'HeaderLines',0);
lying15 = readtable('lying\dataset15.csv', 'HeaderLines',0);
%--------------------------------------------------sitting----------------
-----------------------------------%
sitting1 = readtable('sitting\dataset1.csv', 'HeaderLines',0);
sitting2 = readtable('sitting\dataset2.csv', 'HeaderLines',0);
sitting3 = readtable('sitting\dataset3.csv', 'HeaderLines',0);
sitting4 = readtable('sitting\dataset4.csv', 'HeaderLines',0);
sitting5 = readtable('sitting\dataset5.csv', 'HeaderLines',0);
sitting6 = readtable('sitting\dataset6.csv', 'HeaderLines',0);
sitting7 = readtable('sitting\dataset7.csv', 'HeaderLines',0);
sitting8 = readtable('sitting\dataset8.csv', 'HeaderLines',0);
sitting9 = readtable('sitting\dataset9.csv', 'HeaderLines',0);
sitting10 = readtable('sitting\dataset10.csv', 'HeaderLines',0);
sitting11 = readtable('sitting\dataset11.csv', 'HeaderLines',0);
sitting12 = readtable('sitting\dataset12.csv', 'HeaderLines',0);
sitting13 = readtable('sitting\dataset13.csv', 'HeaderLines',0);
sitting14 = readtable('sitting\dataset14.csv', 'HeaderLines',0);
sitting15 = readtable('sitting\dataset15.csv', 'HeaderLines',0);
%--------------------------------------------------standing---------------
------------------------------------%
standing1 = readtable('standing\dataset1.csv', 'HeaderLines',0);
standing2 = readtable('standing\dataset2.csv', 'HeaderLines',0);
standing3 = readtable('standing\dataset3.csv', 'HeaderLines',0);
standing4 = readtable('standing\dataset4.csv', 'HeaderLines',0);
standing5 = readtable('standing\dataset5.csv', 'HeaderLines',0);
standing6 = readtable('standing\dataset6.csv', 'HeaderLines',0);
standing7 = readtable('standing\dataset7.csv', 'HeaderLines',0);
standing8 = readtable('standing\dataset8.csv', 'HeaderLines',0);
standing9 = readtable('standing\dataset9.csv', 'HeaderLines',0);
standing10 = readtable('standing\dataset10.csv', 'HeaderLines',0);
standing11 = readtable('standing\dataset11.csv', 'HeaderLines',0);
standing12 = readtable('standing\dataset12.csv', 'HeaderLines',0);
standing13 = readtable('standing\dataset13.csv', 'HeaderLines',0);
standing14 = readtable('standing\dataset14.csv', 'HeaderLines',0);
standing15 = readtable('standing\dataset15.csv', 'HeaderLines',0);
%--------------------------------------------------walking----------------
-----------------------------------%
walking1 = readtable('walking\dataset1.csv', 'HeaderLines',0);
walking2 = readtable('walking\dataset2.csv', 'HeaderLines',0);
walking3 = readtable('walking\dataset3.csv', 'HeaderLines',0);
walking4 = readtable('walking\dataset4.csv', 'HeaderLines',0);
walking5 = readtable('walking\dataset5.csv', 'HeaderLines',0);
walking6 = readtable('walking\dataset6.csv', 'HeaderLines',0);
walking7 = readtable('walking\dataset7.csv', 'HeaderLines',0);
walking8 = readtable('walking\dataset8.csv', 'HeaderLines',0);
walking9 = readtable('walking\dataset9.csv', 'HeaderLines',0);
walking10 = readtable('walking\dataset10.csv', 'HeaderLines',0);
walking11 = readtable('walking\dataset11.csv', 'HeaderLines',0);
walking12 = readtable('walking\dataset12.csv', 'HeaderLines',0);
walking13 = readtable('walking\dataset13.csv', 'HeaderLines',0);
walking14 = readtable('walking\dataset14.csv', 'HeaderLines',0);
walking15 = readtable('walking\dataset15.csv', 'HeaderLines',0);

%--------------------------------Transformer les tables en matrices--------
-----------------------------------%
%-----------------------------------------------bending1-------------------
----------------------------------%
bending11 = bending11{:,:};

bending12 = bending12{:,:};
bending13 = bending13{:,:};
bending14 = bending14{:,:};
bending15 = bending15{:,:};
bending16 = bending16{:,:};
bending17 = bending17{:,:};
%--------------------------------------------------bending2---------------
------------------------------------%
bending21 = bending21{:,:};
bending22 = bending22{:,:};
bending23 = bending23{:,:};
bending24 = bending24{:,:};
bending25 = bending25{:,:};
bending26 = bending26{:,:};
%--------------------------------------------------cycling----------------
-----------------------------------%
cycling1 = cycling1{:,:};
cycling2 = cycling2{:,:};
cycling3 = cycling3{:,:};
cycling4 = cycling4{:,:};
cycling5 = cycling5{:,:};
cycling6 = cycling6{:,:};
cycling7 = cycling7{:,:};
cycling8 = cycling8{:,:};
cycling9 = cycling9{:,:};
cycling10 = cycling10{:,:};
cycling11 = cycling11{:,:};
cycling12 = cycling12{:,:};
cycling13 = cycling13{:,:};
cycling14 = cycling14{:,:};
cycling15 = cycling15{:,:};
%--------------------------------------------------lying------------------
---------------------------------%
lying1 = lying1{:,:};
lying2 = lying2{:,:};
lying3 = lying3{:,:};
lying4 = lying4{:,:};
lying5 = lying5{:,:};
lying6 = lying6{:,:};
lying7 = lying7{:,:};
lying8 = lying8{:,:};
lying9 = lying9{:,:};
lying10 = lying10{:,:};
lying11 = lying11{:,:};
lying12 = lying12{:,:};
lying13 = lying13{:,:};
lying14 = lying14{:,:};
lying15 = lying15{:,:};
%--------------------------------------------------sitting----------------
-----------------------------------%
sitting1 = sitting1{:,:};
sitting2 = sitting2{:,:};
sitting3 = sitting3{:,:};
sitting4 = sitting4{:,:};
sitting5 = sitting5{:,:};
sitting6 = sitting6{:,:};
sitting7 = sitting7{:,:};
sitting8 = sitting8{:,:};
sitting9 = sitting9{:,:};
sitting10 = sitting10{:,:};
sitting11 = sitting11{:,:};
26
sitting12 = sitting12{:,:};
sitting13 = sitting13{:,:};
sitting14 = sitting14{:,:};
sitting15 = sitting15{:,:};
%-------------------------------------------------standing-----------------
----------------------------------%
standing1 = standing1{:,:};
standing2 = standing2{:,:};
standing3 = standing3{:,:};
standing4 = standing4{:,:};
standing5 = standing5{:,:};
standing6 = standing6{:,:};
standing7 = standing7{:,:};
standing8 = standing8{:,:};
standing9 = standing9{:,:};
standing10 = standing10{:,:};
standing11 = standing11{:,:};
standing12 = standing12{:,:};
standing13 = standing13{:,:};
standing14 = standing14{:,:};
standing15 = standing15{:,:};
%--------------------------------------------------walking----------------
-----------------------------------%
walking1 = walking1{:,:};
walking2 = walking2{:,:};
walking3 = walking3{:,:};
walking4 = walking4{:,:};
walking5 = walking5{:,:};
walking6 = walking6{:,:};
walking7 = walking7{:,:};
walking8 = walking8{:,:};
walking9 = walking9{:,:};
walking10 = walking10{:,:};
walking11 = walking11{:,:};
walking12 = walking12{:,:};
walking13 = walking13{:,:};
walking14 = walking14{:,:};
walking15 = walking15{:,:};
%-----------------------------------Fusionner les matrices par activitÃ©----
-------------------------------------%
bending1=[bending11;bending12 ;bending13 ;bending14;bending15
;bending16;bending17];
bending2=[bending21;bending22;bending23;bending24 ;bending25;bending26];
cycling=[cycling1;cycling2;cycling3;cycling4;cycling5
;cycling6;cycling7;cycling8;cycling9;cycling10 ;cycling11
;cycling12;cycling13 ;cycling14 ;cycling15 ;];
lying=[lying1;lying2;lying3;lying4;lying5;lying6 ;lying7 ;lying8;lying9
;lying10;lying11 ;lying12 ;lying13 ;lying14 ;lying15 ];
sitting=[sitting1 ;sitting2 ;sitting3;sitting4 ;sitting5 ;sitting6
;sitting7;sitting8 ;sitting9 ;sitting10 ;sitting11 ;sitting12 ;sitting13
;sitting14 ;sitting15 ];
standing=[standing1;standing2 ;standing3 ;standing4 ;standing5
;standing6;standing7 ;standing8;standing9 ;standing10 ;standing11
;standing12 ;standing13 ;standing14 ;standing15 ];
walking =[walking1;walking2 ;walking3 ;walking4;walking5 ;walking6
;walking7 ;walking8;walking9 ;walking10;walking11 ;walking12
;walking13;walking14 ;walking15 ];

%----------------------------------Suppression de la colonne de temps------
-----------------------------------%
bending1(:,1) = [];
bending2(:,1) = [];
cycling(:,1) = [];
lying(:,1) = [];
sitting(:,1) = [];
standing(:,1) = [];
walking (:,1) = [];
%----------------------Remplacer la colonne des rÃ©sultats par des numeros
des classes------------------------%
bending1(:,7) = 6;
bending2(:,7) = 7;
cycling(:,7) = 5;
lying(:,7) = 3;
sitting(:,7) = 2;
standing(:,7) = 1;
walking (:,7) = 4;
%--------------------------------------------Rassemblage-------------------
-----------------------------------%
dataa = [bending1;bending2;cycling;lying;sitting;standing;walking];
%--------------------------------Suppression du duplication des instances--
-----------------------------------%
dataC=unique(sort(dataa,7), 'rows');

%---------------------------------------Selection des donnÃ©es--------------
-----------------------------------%
[m,n] = size(dataC) ;
%60% pour le test
P = 0.60 ;
% 20% 20% Test & Validation
k=0.80;
idx = randperm(m);
Training = dataC(idx(1:round(P*m)),:) ;
Testing = dataC(idx(round(P*m)+1:round(k*m)),:) ;
validation=dataC(idx(round(k*m)+1:end),:) ;